language: java
jdk:
- openjdk8
branches:
  except:
  - travis
notifications:
  irc:
    channels:
    - chat.freenode.net#craftercms
    use_notice: true
    skip_join: true
  slack: craftersoftware:7YiSb41ZG5rfMgiAY7Qgprc7
env:
  global:
  - secure: FkRGbCQB8KoHq0xZ6st01cfv7lLTNIYKNy5dEct6Gc4jrGvFZwk7TP8PjbNkKrkysfZf0HntLo+6au6KdKYRn522RT6iJygo7n5+ZO6n7lJY2TsyqzorU8BnMZgK7t/wz7xRrjZcQdOXZqwJIqOKiQBqkQ3fQe3ByzDOe9SkOPs=
  - secure: HtBjJPpzWyaT/m4BZsa1PcKJatLyKkK3HRhl/P57JY+v+YbwTTZU9o996aQIo/D9w3D5onAc4kyKSVBK397DFv3mFpvsVcxYvGbKpgxgFhWEXjHf+HcFaM/hjojuXaWOzeITjV+bD6alKd+4M5K4khgy3jedBW3EkEJ069Rpvu0=
before_install: git clone -b travis `git config --get remote.origin.url` target/travis
script:
- if [[ "$TRAVIS_PULL_REQUEST" == "false" ]]; then bash -c  "mvn deploy --settings
  target/travis/settings.xml";  fi
- if [[ "$TRAVIS_PULL_REQUEST" != "false" ]]; then bash -c "mvn clean install" ;fi
